# 寻找重复数

> 给定一个包含 n + 1 个整数的数组 nums，其数字都在 1 到 n 之间（包括 1 和 n），可知至少存在一个重复的整数。假设只有一个重复的整数，找出这个重复的数。
>
> 说明：
>
> 1. 不能更改原数组（假设数组是只读的）。
> 2. 只能使用额外的 O(1) 的空间。
> 3. 时间复杂度小于 O(n2) 。
> 4. 数组中只有一个重复的数字，但它可能不止重复出现一次。

## 解题思路

首先因为复杂度的要求，所以靠Hash表记录肯定是不行的，只能根据数组特性进行处理。

这时，我们注意到数组的长度是n+1，如果重复数的重复次数为2，那么数组中是包含了1到n的所有整数的。这时如果将重复次数增加，数组中就会缺失一个数字。如果将数组按数值分为两部分，那么包含重复数的部分就永远大于等于初始值，另一部分永远小于等于初始值。

然后根据二分查找的思想，每一次二分查找的时候都可以根据`mid`将**1到n的数组**分为两部分，如果`1`到`mid`中没有重复数，那么**数字出现的个数**就会小于等于初始值`mid`，否则就大于`mid`值，根据这一性质就可以用二分查找求解。

## 代码

```java
class Solution {
    public int findDuplicate(int[] nums) {
        int n = nums.length;
        int l=1,r=n-1;
        int ans=-1;
        while(l<=r){
            int mid =l+(r-l)/2;
            int cnt=0;
            for(int i=0;i<n;i++){
                cnt += nums[i]<=mid?1:0;
            }
            if(cnt<=mid)l=mid+1;
            else {
                r=mid-1;
                ans=mid;
            }
        }
        return ans;
    }
}
```

